// [Module] NDS Protocol
// [Component] event_v1.proto
// [Layer] Contract (language-agnostic)
// [Index] NDS-PROTO-EVENT-V1-000
// [Semantic] v3+ event envelope + cursor semantics (replay/resume).
// [Since] 3.0.0

// Code generated by protoc-gen-go. DO NOT EDIT.
// versions:
// 	protoc-gen-go v1.36.11
// 	protoc        (unknown)
// source: nds/event/v1/event_v1.proto

package eventv1

import (
	v11 "github.com/misty4119/nds-api/Go/nds/common/v1"
	v1 "github.com/misty4119/nds-api/Go/nds/identity/v1"
	protoreflect "google.golang.org/protobuf/reflect/protoreflect"
	protoimpl "google.golang.org/protobuf/runtime/protoimpl"
	anypb "google.golang.org/protobuf/types/known/anypb"
	timestamppb "google.golang.org/protobuf/types/known/timestamppb"
	reflect "reflect"
	sync "sync"
	unsafe "unsafe"
)

const (
	// Verify that this generated code is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(20 - protoimpl.MinVersion)
	// Verify that runtime/protoimpl is sufficiently up-to-date.
	_ = protoimpl.EnforceVersion(protoimpl.MaxVersion - 20)
)

// [Semantic] High-level event classification for filtering.
type EventType int32

const (
	EventType_EVENT_TYPE_UNSPECIFIED EventType = 0
	// Ledger
	EventType_EVENT_TYPE_LEDGER_TX_COMMITTED    EventType = 1
	EventType_EVENT_TYPE_LEDGER_BALANCE_CHANGED EventType = 2
	// Identity
	EventType_EVENT_TYPE_IDENTITY_BOUND EventType = 10
	// Memory / Proof
	EventType_EVENT_TYPE_MEMORY_ARTIFACT_ANCHORED EventType = 20
)

// Enum value maps for EventType.
var (
	EventType_name = map[int32]string{
		0:  "EVENT_TYPE_UNSPECIFIED",
		1:  "EVENT_TYPE_LEDGER_TX_COMMITTED",
		2:  "EVENT_TYPE_LEDGER_BALANCE_CHANGED",
		10: "EVENT_TYPE_IDENTITY_BOUND",
		20: "EVENT_TYPE_MEMORY_ARTIFACT_ANCHORED",
	}
	EventType_value = map[string]int32{
		"EVENT_TYPE_UNSPECIFIED":              0,
		"EVENT_TYPE_LEDGER_TX_COMMITTED":      1,
		"EVENT_TYPE_LEDGER_BALANCE_CHANGED":   2,
		"EVENT_TYPE_IDENTITY_BOUND":           10,
		"EVENT_TYPE_MEMORY_ARTIFACT_ANCHORED": 20,
	}
)

func (x EventType) Enum() *EventType {
	p := new(EventType)
	*p = x
	return p
}

func (x EventType) String() string {
	return protoimpl.X.EnumStringOf(x.Descriptor(), protoreflect.EnumNumber(x))
}

func (EventType) Descriptor() protoreflect.EnumDescriptor {
	return file_nds_event_v1_event_v1_proto_enumTypes[0].Descriptor()
}

func (EventType) Type() protoreflect.EnumType {
	return &file_nds_event_v1_event_v1_proto_enumTypes[0]
}

func (x EventType) Number() protoreflect.EnumNumber {
	return protoreflect.EnumNumber(x)
}

// Deprecated: Use EventType.Descriptor instead.
func (EventType) EnumDescriptor() ([]byte, []int) {
	return file_nds_event_v1_event_v1_proto_rawDescGZIP(), []int{0}
}

// [Semantic] Server-issued position used for streaming resume.
// [Invariant] Clients MUST NOT construct cursors; treat as opaque.
type Cursor struct {
	state         protoimpl.MessageState `protogen:"open.v1"`
	Value         []byte                 `protobuf:"bytes,1,opt,name=value,proto3" json:"value,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *Cursor) Reset() {
	*x = Cursor{}
	mi := &file_nds_event_v1_event_v1_proto_msgTypes[0]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *Cursor) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*Cursor) ProtoMessage() {}

func (x *Cursor) ProtoReflect() protoreflect.Message {
	mi := &file_nds_event_v1_event_v1_proto_msgTypes[0]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use Cursor.ProtoReflect.Descriptor instead.
func (*Cursor) Descriptor() ([]byte, []int) {
	return file_nds_event_v1_event_v1_proto_rawDescGZIP(), []int{0}
}

func (x *Cursor) GetValue() []byte {
	if x != nil {
		return x.Value
	}
	return nil
}

// [Semantic] Immutable event envelope. Payload is typed via Any.
type EventEnvelope struct {
	state protoimpl.MessageState `protogen:"open.v1"`
	// Server-issued unique event id (opaque bytes).
	EventId []byte `protobuf:"bytes,1,opt,name=event_id,json=eventId,proto3" json:"event_id,omitempty"`
	// Cursor for replay/resume ordering semantics.
	Cursor *Cursor `protobuf:"bytes,2,opt,name=cursor,proto3" json:"cursor,omitempty"`
	// Occurrence time (UTC).
	OccurredAt *timestamppb.Timestamp `protobuf:"bytes,3,opt,name=occurred_at,json=occurredAt,proto3" json:"occurred_at,omitempty"`
	// Who initiated the action.
	Actor *v1.PersonaId `protobuf:"bytes,10,opt,name=actor,proto3" json:"actor,omitempty"`
	// Owner (optional; depends on event type).
	Owner *v1.PersonaId `protobuf:"bytes,11,opt,name=owner,proto3,oneof" json:"owner,omitempty"`
	// Event classification.
	Type EventType `protobuf:"varint,20,opt,name=type,proto3,enum=nds.event.v1.EventType" json:"type,omitempty"`
	// Schema version of the payload.
	SchemaVersion int32 `protobuf:"varint,21,opt,name=schema_version,json=schemaVersion,proto3" json:"schema_version,omitempty"`
	// Typed payload (implementation-defined message types).
	Payload *anypb.Any `protobuf:"bytes,30,opt,name=payload,proto3" json:"payload,omitempty"`
	// Typed extensions for forward-compatible metadata.
	Extensions []*anypb.Any `protobuf:"bytes,31,rep,name=extensions,proto3" json:"extensions,omitempty"`
	// Request context for traceability and idempotency correlation.
	// [Note] Implementations may omit ctx for events not originating from a request.
	Ctx *v11.RequestContext `protobuf:"bytes,40,opt,name=ctx,proto3,oneof" json:"ctx,omitempty"`
	// Legacy trace field (kept for compatibility with early v3 drafts).
	RequestId     *string `protobuf:"bytes,41,opt,name=request_id,json=requestId,proto3,oneof" json:"request_id,omitempty"`
	unknownFields protoimpl.UnknownFields
	sizeCache     protoimpl.SizeCache
}

func (x *EventEnvelope) Reset() {
	*x = EventEnvelope{}
	mi := &file_nds_event_v1_event_v1_proto_msgTypes[1]
	ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
	ms.StoreMessageInfo(mi)
}

func (x *EventEnvelope) String() string {
	return protoimpl.X.MessageStringOf(x)
}

func (*EventEnvelope) ProtoMessage() {}

func (x *EventEnvelope) ProtoReflect() protoreflect.Message {
	mi := &file_nds_event_v1_event_v1_proto_msgTypes[1]
	if x != nil {
		ms := protoimpl.X.MessageStateOf(protoimpl.Pointer(x))
		if ms.LoadMessageInfo() == nil {
			ms.StoreMessageInfo(mi)
		}
		return ms
	}
	return mi.MessageOf(x)
}

// Deprecated: Use EventEnvelope.ProtoReflect.Descriptor instead.
func (*EventEnvelope) Descriptor() ([]byte, []int) {
	return file_nds_event_v1_event_v1_proto_rawDescGZIP(), []int{1}
}

func (x *EventEnvelope) GetEventId() []byte {
	if x != nil {
		return x.EventId
	}
	return nil
}

func (x *EventEnvelope) GetCursor() *Cursor {
	if x != nil {
		return x.Cursor
	}
	return nil
}

func (x *EventEnvelope) GetOccurredAt() *timestamppb.Timestamp {
	if x != nil {
		return x.OccurredAt
	}
	return nil
}

func (x *EventEnvelope) GetActor() *v1.PersonaId {
	if x != nil {
		return x.Actor
	}
	return nil
}

func (x *EventEnvelope) GetOwner() *v1.PersonaId {
	if x != nil {
		return x.Owner
	}
	return nil
}

func (x *EventEnvelope) GetType() EventType {
	if x != nil {
		return x.Type
	}
	return EventType_EVENT_TYPE_UNSPECIFIED
}

func (x *EventEnvelope) GetSchemaVersion() int32 {
	if x != nil {
		return x.SchemaVersion
	}
	return 0
}

func (x *EventEnvelope) GetPayload() *anypb.Any {
	if x != nil {
		return x.Payload
	}
	return nil
}

func (x *EventEnvelope) GetExtensions() []*anypb.Any {
	if x != nil {
		return x.Extensions
	}
	return nil
}

func (x *EventEnvelope) GetCtx() *v11.RequestContext {
	if x != nil {
		return x.Ctx
	}
	return nil
}

func (x *EventEnvelope) GetRequestId() string {
	if x != nil && x.RequestId != nil {
		return *x.RequestId
	}
	return ""
}

var File_nds_event_v1_event_v1_proto protoreflect.FileDescriptor

const file_nds_event_v1_event_v1_proto_rawDesc = "" +
	"\n" +
	"\x1bnds/event/v1/event_v1.proto\x12\fnds.event.v1\x1a\x19google/protobuf/any.proto\x1a\x1fgoogle/protobuf/timestamp.proto\x1a\x1dnds/common/v1/common_v1.proto\x1a!nds/identity/v1/identity_v1.proto\"\x1e\n" +
	"\x06Cursor\x12\x14\n" +
	"\x05value\x18\x01 \x01(\fR\x05value\"\xb3\x04\n" +
	"\rEventEnvelope\x12\x19\n" +
	"\bevent_id\x18\x01 \x01(\fR\aeventId\x12,\n" +
	"\x06cursor\x18\x02 \x01(\v2\x14.nds.event.v1.CursorR\x06cursor\x12;\n" +
	"\voccurred_at\x18\x03 \x01(\v2\x1a.google.protobuf.TimestampR\n" +
	"occurredAt\x120\n" +
	"\x05actor\x18\n" +
	" \x01(\v2\x1a.nds.identity.v1.PersonaIdR\x05actor\x125\n" +
	"\x05owner\x18\v \x01(\v2\x1a.nds.identity.v1.PersonaIdH\x00R\x05owner\x88\x01\x01\x12+\n" +
	"\x04type\x18\x14 \x01(\x0e2\x17.nds.event.v1.EventTypeR\x04type\x12%\n" +
	"\x0eschema_version\x18\x15 \x01(\x05R\rschemaVersion\x12.\n" +
	"\apayload\x18\x1e \x01(\v2\x14.google.protobuf.AnyR\apayload\x124\n" +
	"\n" +
	"extensions\x18\x1f \x03(\v2\x14.google.protobuf.AnyR\n" +
	"extensions\x124\n" +
	"\x03ctx\x18( \x01(\v2\x1d.nds.common.v1.RequestContextH\x01R\x03ctx\x88\x01\x01\x12\"\n" +
	"\n" +
	"request_id\x18) \x01(\tH\x02R\trequestId\x88\x01\x01B\b\n" +
	"\x06_ownerB\x06\n" +
	"\x04_ctxB\r\n" +
	"\v_request_id*\xba\x01\n" +
	"\tEventType\x12\x1a\n" +
	"\x16EVENT_TYPE_UNSPECIFIED\x10\x00\x12\"\n" +
	"\x1eEVENT_TYPE_LEDGER_TX_COMMITTED\x10\x01\x12%\n" +
	"!EVENT_TYPE_LEDGER_BALANCE_CHANGED\x10\x02\x12\x1d\n" +
	"\x19EVENT_TYPE_IDENTITY_BOUND\x10\n" +
	"\x12'\n" +
	"#EVENT_TYPE_MEMORY_ARTIFACT_ANCHORED\x10\x14B\xcf\x01\n" +
	"7noie.linmimeng.noiedigitalsystem.api.proto.nds.event.v1B\fEventV1ProtoP\x01Z4github.com/misty4119/nds-api/Go/nds/event/v1;eventv1\xa2\x02\x03NEX\xaa\x02\fNds.Event.V1\xca\x02\fNds\\Event\\V1\xe2\x02\x18Nds\\Event\\V1\\GPBMetadata\xea\x02\x0eNds::Event::V1b\x06proto3"

var (
	file_nds_event_v1_event_v1_proto_rawDescOnce sync.Once
	file_nds_event_v1_event_v1_proto_rawDescData []byte
)

func file_nds_event_v1_event_v1_proto_rawDescGZIP() []byte {
	file_nds_event_v1_event_v1_proto_rawDescOnce.Do(func() {
		file_nds_event_v1_event_v1_proto_rawDescData = protoimpl.X.CompressGZIP(unsafe.Slice(unsafe.StringData(file_nds_event_v1_event_v1_proto_rawDesc), len(file_nds_event_v1_event_v1_proto_rawDesc)))
	})
	return file_nds_event_v1_event_v1_proto_rawDescData
}

var file_nds_event_v1_event_v1_proto_enumTypes = make([]protoimpl.EnumInfo, 1)
var file_nds_event_v1_event_v1_proto_msgTypes = make([]protoimpl.MessageInfo, 2)
var file_nds_event_v1_event_v1_proto_goTypes = []any{
	(EventType)(0),                // 0: nds.event.v1.EventType
	(*Cursor)(nil),                // 1: nds.event.v1.Cursor
	(*EventEnvelope)(nil),         // 2: nds.event.v1.EventEnvelope
	(*timestamppb.Timestamp)(nil), // 3: google.protobuf.Timestamp
	(*v1.PersonaId)(nil),          // 4: nds.identity.v1.PersonaId
	(*anypb.Any)(nil),             // 5: google.protobuf.Any
	(*v11.RequestContext)(nil),    // 6: nds.common.v1.RequestContext
}
var file_nds_event_v1_event_v1_proto_depIdxs = []int32{
	1, // 0: nds.event.v1.EventEnvelope.cursor:type_name -> nds.event.v1.Cursor
	3, // 1: nds.event.v1.EventEnvelope.occurred_at:type_name -> google.protobuf.Timestamp
	4, // 2: nds.event.v1.EventEnvelope.actor:type_name -> nds.identity.v1.PersonaId
	4, // 3: nds.event.v1.EventEnvelope.owner:type_name -> nds.identity.v1.PersonaId
	0, // 4: nds.event.v1.EventEnvelope.type:type_name -> nds.event.v1.EventType
	5, // 5: nds.event.v1.EventEnvelope.payload:type_name -> google.protobuf.Any
	5, // 6: nds.event.v1.EventEnvelope.extensions:type_name -> google.protobuf.Any
	6, // 7: nds.event.v1.EventEnvelope.ctx:type_name -> nds.common.v1.RequestContext
	8, // [8:8] is the sub-list for method output_type
	8, // [8:8] is the sub-list for method input_type
	8, // [8:8] is the sub-list for extension type_name
	8, // [8:8] is the sub-list for extension extendee
	0, // [0:8] is the sub-list for field type_name
}

func init() { file_nds_event_v1_event_v1_proto_init() }
func file_nds_event_v1_event_v1_proto_init() {
	if File_nds_event_v1_event_v1_proto != nil {
		return
	}
	file_nds_event_v1_event_v1_proto_msgTypes[1].OneofWrappers = []any{}
	type x struct{}
	out := protoimpl.TypeBuilder{
		File: protoimpl.DescBuilder{
			GoPackagePath: reflect.TypeOf(x{}).PkgPath(),
			RawDescriptor: unsafe.Slice(unsafe.StringData(file_nds_event_v1_event_v1_proto_rawDesc), len(file_nds_event_v1_event_v1_proto_rawDesc)),
			NumEnums:      1,
			NumMessages:   2,
			NumExtensions: 0,
			NumServices:   0,
		},
		GoTypes:           file_nds_event_v1_event_v1_proto_goTypes,
		DependencyIndexes: file_nds_event_v1_event_v1_proto_depIdxs,
		EnumInfos:         file_nds_event_v1_event_v1_proto_enumTypes,
		MessageInfos:      file_nds_event_v1_event_v1_proto_msgTypes,
	}.Build()
	File_nds_event_v1_event_v1_proto = out.File
	file_nds_event_v1_event_v1_proto_goTypes = nil
	file_nds_event_v1_event_v1_proto_depIdxs = nil
}
